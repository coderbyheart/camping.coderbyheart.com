---
layout: default
---
<div class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-meta">{{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{ page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif %}</p>
  </header>

  <article class="post-content">
    {{ content }}

    {% if page.geo %}
    <div id="map"></div>
    <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoiY29kZXJieWhlYXJ0IiwiYSI6Ijg1YWYxODEwODMzMTExMjk2NTYyNWIxNzgyNDc4NDI5In0.ba1fA9we0blXiNJcqNKAxQ';
      var geo = '{{ page.geo }}'.split(',').map(function(c) { return parseFloat(c.trim()); });
      var map = L.mapbox.map('map', 'mapbox.outdoors')
              .setView([geo[0], geo[1]], 9);
      // L.marker is a low-level marker constructor in Leaflet.
      L.marker([geo[0], geo[1]], {
        icon: L.mapbox.marker.icon({
          'marker-size': 'large',
          'marker-symbol': 'campsite',
          'marker-color': '#fa0'
        })
      }).addTo(map);
    </script>
    {% endif %}
  </article>

</div>
